# 搜索命令

#### 1.whereis

whereis是搜索 命令的命令，只能搜索系统命令



#### 2.which

which也是搜索系统命令的命令

- whereis命令可以在查找到二进制命令的同时，查找到帮助文档的位置
- which命令在查找到二进制命令的同时，如果这个命令有别名，则还可以找到别名命令



#### 3.locate

locate可以按照文件名搜索普通文件

- 优点：按照数据库搜索，搜索速度快，小号资源小。数据库位置/var/lib/mlocate/mlocate.db
- 缺点：只能按照文件名来搜索文件，不能执行更复杂的搜索，比如权限、大小、修改时间等搜索文件



注意：新建的文件搜索不到的时候，是因为数据库没有更新，这个时候退出重新登录系统就可以搜索的到。但是更好的方法是更新一下数据库：updatedb。即更新了/var/lib/mlocate/mlocate.db。



/etc/updatedb.conf		updatebd的配置文件



#### 4.find

**4.1按照文件名搜索**

find 搜索路径  [选项]  搜索内容

选项：

-name：按照文件名搜索

-iname：按照文件名搜索，不区分文件名大小写

-inum：按照inode号搜索



```shell
ls -i abc #知道文件名查inode号
find . -inum 1055970  #知道inode号查文件名
```



**4.2按照文件大小搜索**

find 搜索路径 [选项] 搜索内容

选项：-size [+|-]



**4.3按照修改时间搜索**

find 搜索路径 [选项] 搜索内容

选项：

-atime [+|-]时间：按照文件访问时间搜索

-mtime [+|-]时间：按照文件数据修改时间搜索

-ctime [+|-]时间：按照文件状态修改时间搜索



**4.4按照权限搜索**

find 搜索路径 [选项] 搜索内容

选项：

-perm  权限模式：查找文件权限刚好等于“权限模式”的文件

-perm  -权限模式：查找文件权限全部包含“权限模式”的文件

-perm  权限模式：查找文件权限包含“权限模式”的任意一个权限的文件



**4.5按照所有者和所属组搜索**

find 搜索路径 [选项] 搜索内容

选项：

-uid  用户ID：按照用户ID查找所有者是指定ID的文件

-gid  组ID：按照用户组ID查找所属组是指定ID的文件

-user 用户名：按照用户名查找所有者是指定用户的文件

-group  组名：按照组名查找所属组是指定用户组的文件

-nouser：查找没有所有者的文件：主要用于查找垃圾文件。只有一种情况例外，那就是外来文件。比如光盘和U盘中的文件是由window复制的，在linux中查看就是没有所有者的文件；再比如手工源码包安装的文件，也有可能没有所有者



**4.6按照文件类型搜索**

find 搜索路径 [选项] 搜索内容

选项：

-type d：查找目录

-type f：查找普通文件

-type l：查找软链接文件



**4.7逻辑运算符**

find 搜索路径 [选项] 搜索内容

选项：

-a：and 逻辑与

-o：or逻辑或

-not：not逻辑非



```shell
#eg：查找当前目录下大小大于1k的文件
find . -size +1k -a -type f

#取反,以下两者一样
find . ! -name abc（!两侧必须有空格，因为它相当于-not）
find -not -name abc  
```



**4.8其他选项**

1）-exec

```
find 搜索路径 [选项] 搜索内容 -exec 命令2 {} \;
这个选项的作用是把find命令的结果交给由“-exec”调用的命令2来处理。“{}”就代表find查找的结果
```

2）-ok

-ok和-exec一样的作用，只是-ok会询问用户是否操作，-exec不询问，直接操作