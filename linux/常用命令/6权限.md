# 权限

## 1.权限的介绍

10位，最后的第11位的“.”是增强安全型ESlinux

**第1位：文件的类型**

“-”：普通文件

“b”：块设备文件。这是一种特殊设备文件，存储设备都是这种文件，如分区文件/dev/sda1就是这种文件

“c”：字符设备文件。特殊设备文件，输入设备一般都是这种文件，如鼠标，键盘等

“d”：目录文件。linux中一切皆文件，所以目录也是文件的一种

“l”：软链接文件

“p”：管道符文件。这是一种非常少见的特殊设备文件

“s”：套接字文件。特殊设备文件，一些服务支持socket访问，就会产生这样的文件

**第2~4位：代表文件所有者的权限**（u），**第5~7位：代表文件所所属组的权限**（g），**第8~10位：代表其他人的权限**（o）

r：read，是读取权限

w：write，是写权限

x：execute，是执行权限

如果有字母则代表有相应的权限，“—”代表没有对应的权限



## 2.权限命令

修改权限的命令chmod

```shell
chmod [选项] 权限模式 文件名
```

-R：递归设置权限，也就是给子目录中的所有文件设定权限



chmod命令的权限模式的格式是`“[ugoa][[+-=][perms]]”`,

**用户身份：**

u：所有者

g：所属组

o：其他人

a：代表全部身份

**赋予方式：**

+：加入权限

—：减去权限

=：设置权限

**权限：**

r：读权限

w：写权限

x：执行权限



chmod g+w,o+w 文件名 可以通过逗号，给所属组其他人加权限

chmod g-w,o-w，减去权限

chmod u=rwx,g=rwx 通过等号赋权限



数字权限

- 4：代表“r”权限
- 2：代表“w”权限
- 1：代表“x”权限

chmod 755 文件名



**chown：修改文件的所有者和所属组**

chown user1 文件名：修改文件的所有者

chown user1**:**user1 文件名：修改文件的所有者和所属组

chown user1**.**user1 文件名：修改文件的所有者和所属组



**chgrp：修改文件的所属组**

chgrp user1 文件名：修改文件的所属组



**普通用户可以修改所有者是自己的文件的权限**

**普通用户不能修改文件的所有者，即使文件的所有者是自己，也不能修改，只有超级用户可以修改所有者**

**超级用户可以修改别人文件的权限**



## 3.权限含义

权限含义的解释

首先，读、写、执行权限对文件和目录的作用是不同的。

**权限对文件的作用：**

- 读：对文件有读权限，代表可以读取文件中的数据。如果把权限对应到命令上，那么一旦对文件有读权限，就可以对文件执行cat、more、less、head、tail等文件查看命令
- 写：对文件有写权限，代表可以修改文件中的数据。如果把权限对应到命令上，那么一旦对文件有写权限，就可以对文件执行vim、echo等修改文件数据的命令。**注意：对文件有写权限，是不能删除文件本身的，只能修改文件中的数据。如果要想删除文件，则需要对文件的上级目录拥有写权限。**
- 执行：对文件有执行权限，代表文件拥有了执行权限，可以运行。在linux中，只要文件有执行权限，这个文件就是执行文件了。只是这个文件到底能不能正确执行，不仅需要执行权限，还要看文件中的代码是不是正确的语言代码。对文件来说，执行权限是最高权限。

**权限对目录的作用：**

- 读：对目录有读权限，代表可以查看目录下的内容，也就是可以查看目录下有哪些子文件和子目录。如果把权限对应到命令上，那么一旦对目录拥有了读权限，就可以在目录下执行ls命令，查看目录下的内容了。
- 写：对目录有写权限，代表可以修改目录下的数据，也就是可以在目录中新建、删除、复制、剪切子文件或子目录。如果把权限对应到命令上，那么一旦对目录拥有了写权限，就可以在目录下执行touch、rm、cp、mv命令。对目录来说，写权限是最高的权限。
- 执行：目录是不能运行的，那么对目录拥有执行权限，代表可以进入目录。如果把权限对应到命令上，那么一旦对目录拥有了执行权限，就可以对目录执行cd命令，进入目录。

**目录只能赋0、5、7三个权限**

0：没有权限

5：基本权限：能进入，能读

7：全部权限